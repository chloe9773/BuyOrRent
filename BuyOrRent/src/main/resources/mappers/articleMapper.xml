<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="article">
	<!-- 게시글 insert -->
	<insert id="setArticle" parameterType="articlevo">
		INSERT INTO article SET 
			board_id = #{boardId},
			article_type = #{articleType},
			article_title = #{title},
			article_author = #{author},
			article_date = now(),
			content = #{content}
	</insert>
	
	<!-- 게시판별 게시글 불러오기(공지게시글) -->
	<select id="getNotiArticleForBoard" parameterType="int" resultType="articlevo">
		SELECT 
			article_id as articleId,
			article_type as articleType,
			article_title as title,
			article_author as author,
			article_date as uploadDate,
			article_hit as hit,
			article_comments as commentTotal,
			content 
		FROM article WHERE board_id = #{boardId} and article_type != 'general' ORDER BY article_id
	</select>
	
	<!-- 게시판별 게시글 불러오기(일반게시글) -->
	<select id="getAllArticleForBoard" parameterType="int" resultType="articlevo">
		SELECT 
			article_id as articleId,
			article_type as articleType,
			article_title as title,
			article_author as author,
			article_date as uploadDate,
			article_hit as hit,
			article_comments as commentTotal,
			content 
		FROM article WHERE board_id = #{boardId} and article_type != 'noti' ORDER BY article_id DESC LIMIT 10
	</select>
</mapper>